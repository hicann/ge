# 错误码（待废弃）<a name="ZH-CN_TOPIC_0000002407583109"></a>

错误码定义存放路径："$\{INSTALL\_DIR\}/include/ge/llm\_error\_codes.h"和"$\{INSTALL\_DIR\}/include/llm\_datadist/llm\_datadist.h"。$\{INSTALL\_DIR\}请替换为CANN软件安装后文件存储路径。若安装的Ascend-cann-toolkit软件包，以root安装举例，则安装后文件存储路径为：/usr/local/Ascend/ascend-toolkit/latest。

错误码是通过如下宏定义的。

```
namespace ge {
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_WAIT_PROC_TIMEOUT, 1);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_KV_CACHE_NOT_EXIST, 2);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_REPEAT_REQUEST, 3);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_REQUEST_ALREADY_COMPLETED, 4);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_PARAM_INVALID, 5);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_ENGINE_FINALIZED, 6);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_NOT_YET_LINK, 7);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_ALREADY_LINK, 8);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_LINK_FAILED, 9);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_UNLINK_FAILED, 10);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_NOTIFY_PROMPT_UNLINK_FAILED, 11);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_CLUSTER_NUM_EXCEED_LIMIT, 12);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_PROCESSING_LINK, 13);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_DEVICE_OUT_OF_MEMORY, 14);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_PREFIX_ALREADY_EXIST, 15);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_PREFIX_NOT_EXIST, 16);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_SEQ_LEN_OVER_LIMIT, 17);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_NO_FREE_BLOCK, 18);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_BLOCKS_OUT_OF_MEMORY, 19);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_CACHE_INCOMPATIBLE, 20);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_CACHE_KEY_ALREADY_EXIST, 21);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_COPY_CACHE_FAILED, 22);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_CACHE_ID_ALREADY_EXIST, 23);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_EXIST_LINK, 24);
GE_ERRORNO_DEFINE(0b01, 0b01, 0b000, 8, 11, LLM_FEATURE_NOT_ENABLED, 25);
}  // namespace ge
```

具体错误码含义如下。

<a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_table47561922"></a>
<table><thead align="left"><tr id="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_row29169897"><th class="cellrowborder" valign="top" width="13.991399139913991%" id="mcps1.1.6.1.1"><p id="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p13951479"><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p13951479"></a><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p13951479"></a>错误码</p>
</th>
<th class="cellrowborder" valign="top" width="20.632063206320634%" id="mcps1.1.6.1.2"><p id="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p56327989"><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p56327989"></a><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p56327989"></a>含义</p>
</th>
<th class="cellrowborder" valign="top" width="24.33243324332433%" id="mcps1.1.6.1.3"><p id="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p66531170"><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p66531170"></a><a name="zh-cn_topic_0000001461072801_zh-cn_topic_0000001265240866_zh-cn_topic_0182636394_p66531170"></a>可能原因</p>
</th>
<th class="cellrowborder" valign="top" width="12.421242124212421%" id="mcps1.1.6.1.4"><p id="p22241638508"><a name="p22241638508"></a><a name="p22241638508"></a>是否可恢复</p>
</th>
<th class="cellrowborder" valign="top" width="28.622862286228624%" id="mcps1.1.6.1.5"><p id="p1869225517563"><a name="p1869225517563"></a><a name="p1869225517563"></a>解决办法</p>
</th>
</tr>
</thead>
<tbody><tr id="row915751351310"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p199760135010"><a name="p199760135010"></a><a name="p199760135010"></a>4294967295</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p27921138195717"><a name="p27921138195717"></a><a name="p27921138195717"></a>failed!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p11791133895713"><a name="p11791133895713"></a><a name="p11791133895713"></a>-</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p18224153115020"><a name="p18224153115020"></a><a name="p18224153115020"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p2079063815713"><a name="p2079063815713"></a><a name="p2079063815713"></a>保留现场，获取Host/Device日志，并备份（Device日志需到宿主机进行port导回）。</p>
</td>
</tr>
<tr id="row124421895818"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p149768131804"><a name="p149768131804"></a><a name="p149768131804"></a>1343270913</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p1340212353020"><a name="p1340212353020"></a><a name="p1340212353020"></a>request wait to be processed timeout!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><a name="ul2066813415121"></a><a name="ul2066813415121"></a><ul id="ul2066813415121"><li>等待组batch超时。</li><li>超时时间内未得到调度。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p172246375016"><a name="p172246375016"></a><a name="p172246375016"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><a name="ol167861950151219"></a><a name="ol167861950151219"></a><ol id="ol167861950151219"><li>上层调用complete进行处理。</li><li>上层控制负载。</li></ol>
</td>
</tr>
<tr id="row1365726165818"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p79761213403"><a name="p79761213403"></a><a name="p79761213403"></a>1343270914</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p640214351407"><a name="p640214351407"></a><a name="p640214351407"></a>KV is not exist!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p183421051128"><a name="p183421051128"></a><a name="p183421051128"></a>增量从全量侧获取KV，但是KV不存在。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p522416318501"><a name="p522416318501"></a><a name="p522416318501"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><a name="ol845581171320"></a><a name="ol845581171320"></a><ol id="ol845581171320"><li>检查clusterid与req_id是否正确。</li><li>检查是否是Prompt超时，确认是否KV已经被释放。</li><li>检查是否存在重复拉取。</li></ol>
</td>
</tr>
<tr id="row1597027135819"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p1977513206"><a name="p1977513206"></a><a name="p1977513206"></a>1343270915</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p74021535902"><a name="p74021535902"></a><a name="p74021535902"></a>repeat request!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p834218512214"><a name="p834218512214"></a><a name="p834218512214"></a>单次迭代中，多次调用同一个req_id。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p1222412395020"><a name="p1222412395020"></a><a name="p1222412395020"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p14598627175815"><a name="p14598627175815"></a><a name="p14598627175815"></a>检查是否存在重复调用。</p>
</td>
</tr>
<tr id="row1457492445814"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p697710131209"><a name="p697710131209"></a><a name="p697710131209"></a>1343270916</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p940243510015"><a name="p940243510015"></a><a name="p940243510015"></a>request already complete!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p43421351429"><a name="p43421351429"></a><a name="p43421351429"></a>调度到的时候，上层已经发送了complete。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p17224336506"><a name="p17224336506"></a><a name="p17224336506"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p557512248588"><a name="p557512248588"></a><a name="p557512248588"></a>排查是否调用了未经处理的token的complete操作。</p>
</td>
</tr>
<tr id="zh-cn_topic_0000001461072801_row17754717144"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p397710136015"><a name="p397710136015"></a><a name="p397710136015"></a>1343270917</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p140217351104"><a name="p140217351104"></a><a name="p140217351104"></a>Parameter's invalid!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p193427516218"><a name="p193427516218"></a><a name="p193427516218"></a>无效参数，包含LLM &amp; GE的参数校验，需要通过日志确认具体原因，一般在调测阶段发生。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p1922420305011"><a name="p1922420305011"></a><a name="p1922420305011"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p107881338165713"><a name="p107881338165713"></a><a name="p107881338165713"></a>基于日志排查错误原因。</p>
</td>
</tr>
<tr id="row126582315811"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p139771813001"><a name="p139771813001"></a><a name="p139771813001"></a>1343270918</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p1440219351005"><a name="p1440219351005"></a><a name="p1440219351005"></a>llm engine finalized!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p2034215623"><a name="p2034215623"></a><a name="p2034215623"></a>调度到的时候，上层已经发送了Finalize。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p1522419316508"><a name="p1522419316508"></a><a name="p1522419316508"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p76572312587"><a name="p76572312587"></a><a name="p76572312587"></a>上层调用时候排查是否退出前未完成所有请求的处理。</p>
</td>
</tr>
<tr id="row2085061945816"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p189771413807"><a name="p189771413807"></a><a name="p189771413807"></a>1343270919</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p540223518018"><a name="p540223518018"></a><a name="p540223518018"></a>decoder cluster is no link with prompt!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p163421951523"><a name="p163421951523"></a><a name="p163421951523"></a>Decode未与Prompt建联。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p4224103175015"><a name="p4224103175015"></a><a name="p4224103175015"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p28507198586"><a name="p28507198586"></a><a name="p28507198586"></a>上层排查Decode与Prompt建联情况。</p>
</td>
</tr>
<tr id="row4474102115589"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p897713131504"><a name="p897713131504"></a><a name="p897713131504"></a>1343270920</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p184028358019"><a name="p184028358019"></a><a name="p184028358019"></a>decoder cluster is already linked with prompt cluster!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p4342195421"><a name="p4342195421"></a><a name="p4342195421"></a>Decode与Prompt已经建联。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p4224133105013"><a name="p4224133105013"></a><a name="p4224133105013"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p16475182120587"><a name="p16475182120587"></a><a name="p16475182120587"></a>上层排查Decode与Prompt建联情况。</p>
</td>
</tr>
<tr id="row3976151495818"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p1097716131100"><a name="p1097716131100"></a><a name="p1097716131100"></a>1343270921</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p940218359013"><a name="p940218359013"></a><a name="p940218359013"></a>decoder cluster link with prompt cluster failed!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p534265422"><a name="p534265422"></a><a name="p534265422"></a>Decode与Prompt建联失败。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p32241439504"><a name="p32241439504"></a><a name="p32241439504"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><a name="ol144591976155"></a><a name="ol144591976155"></a><ol id="ol144591976155"><li>LinkClusters API返回值为该错误码时，需要查看API出参中每个cluster的建联结果。</li><li>LinkClusters API出参rets中存在该错误码时，需要排查Cluster之间的网络连接。</li></ol>
<p id="p52701343161514"><a name="p52701343161514"></a><a name="p52701343161514"></a>建链失败时，会自动回滚，保证资源未被异常占用。</p>
</td>
</tr>
<tr id="row106657161587"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p1897731311017"><a name="p1897731311017"></a><a name="p1897731311017"></a>1343270922</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p34024351809"><a name="p34024351809"></a><a name="p34024351809"></a>decoder cluster unlink with prompt cluster failed!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p113423510210"><a name="p113423510210"></a><a name="p113423510210"></a>Decode与Prompt断链失败。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p42241325020"><a name="p42241325020"></a><a name="p42241325020"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><a name="ol175346617169"></a><a name="ol175346617169"></a><ol id="ol175346617169"><li>LinkClusters API返回值为该错误码时，需要查看API出参中每个cluster的断链结果。</li><li>LinkClusters API出参rets中存在该错误码时，需要排查Cluster之间的网络连接。</li></ol>
<p id="p7134217743"><a name="p7134217743"></a><a name="p7134217743"></a>断链失败时，不回滚。</p>
</td>
</tr>
<tr id="row5762151135817"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p597711131402"><a name="p597711131402"></a><a name="p597711131402"></a>1343270923</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p1840273511014"><a name="p1840273511014"></a><a name="p1840273511014"></a>decoder cluster notify prompt cluster do unlink failed!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p834310517220"><a name="p834310517220"></a><a name="p834310517220"></a>Decode通知Prompt断链失败。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p122453175017"><a name="p122453175017"></a><a name="p122453175017"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><a name="ol1983921501615"></a><a name="ol1983921501615"></a><ol id="ol1983921501615"><li>排查Decode与Prompt之间的网络连接。</li><li>主动调Prompt侧的UnlinkClusters API清理残留资源。</li></ol>
</td>
</tr>
<tr id="row64081613105816"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p99771913002"><a name="p99771913002"></a><a name="p99771913002"></a>1343270924</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p7402335406"><a name="p7402335406"></a><a name="p7402335406"></a>cluster num exceed limit!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p334355823"><a name="p334355823"></a><a name="p334355823"></a>API中一次性传入clusters超出上限，当前上限为16。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p32241310507"><a name="p32241310507"></a><a name="p32241310507"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p240917136583"><a name="p240917136583"></a><a name="p240917136583"></a>排查API传入参数，clusters数量不能超过16</p>
</td>
</tr>
<tr id="row189813955814"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p109775131016"><a name="p109775131016"></a><a name="p109775131016"></a>1343270925</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p340214351607"><a name="p340214351607"></a><a name="p340214351607"></a>link is current processing, try again later!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p734312510212"><a name="p734312510212"></a><a name="p734312510212"></a>当前link和unlink正在执行。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p1822415313504"><a name="p1822415313504"></a><a name="p1822415313504"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p0982119125819"><a name="p0982119125819"></a><a name="p0982119125819"></a>请稍后再试。</p>
</td>
</tr>
<tr id="row1368161314390"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p16816130397"><a name="p16816130397"></a><a name="p16816130397"></a>1343270926</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p668101315391"><a name="p668101315391"></a><a name="p668101315391"></a>device out of memory!</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p46891313396"><a name="p46891313396"></a><a name="p46891313396"></a>全量KV Cache内存不足。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p16813134397"><a name="p16813134397"></a><a name="p16813134397"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p46891315395"><a name="p46891315395"></a><a name="p46891315395"></a>增量拉完kv，再调用LLMReqComplete结束请求。</p>
</td>
</tr>
<tr id="row0236182293916"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p4237132233914"><a name="p4237132233914"></a><a name="p4237132233914"></a>1343270927</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p17237822113914"><a name="p17237822113914"></a><a name="p17237822113914"></a>Prefix has already existed.</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p1237102214399"><a name="p1237102214399"></a><a name="p1237102214399"></a>公共前缀已经存在。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p19237202293914"><a name="p19237202293914"></a><a name="p19237202293914"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p11237192273910"><a name="p11237192273910"></a><a name="p11237192273910"></a>不用重复下发相同公共前缀的请求。</p>
</td>
</tr>
<tr id="row2033982019399"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p14339132083915"><a name="p14339132083915"></a><a name="p14339132083915"></a>1343270928</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p1133910204392"><a name="p1133910204392"></a><a name="p1133910204392"></a>Prefix does not exist.</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p1033922020399"><a name="p1033922020399"></a><a name="p1033922020399"></a>公共前缀不存在。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p133391520173918"><a name="p133391520173918"></a><a name="p133391520173918"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p1339202053915"><a name="p1339202053915"></a><a name="p1339202053915"></a>下发前，重新生成公共前缀。</p>
</td>
</tr>
<tr id="row8668131819394"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p6668151853918"><a name="p6668151853918"></a><a name="p6668151853918"></a>1343270929</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p15668118163919"><a name="p15668118163919"></a><a name="p15668118163919"></a>Sequence length exceed limit.</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p1866831823914"><a name="p1866831823914"></a><a name="p1866831823914"></a>PagedAttention场景下句子长度超过了block空间大小。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p1566813182398"><a name="p1566813182398"></a><a name="p1566813182398"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p13668171813918"><a name="p13668171813918"></a><a name="p13668171813918"></a>排查API传入参数，请求句子长度不能超过block_num*block_size。</p>
</td>
</tr>
<tr id="row2559191693918"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p10559111653917"><a name="p10559111653917"></a><a name="p10559111653917"></a>1343270930</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p4559716173916"><a name="p4559716173916"></a><a name="p4559716173916"></a>No free block.</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p155591716183916"><a name="p155591716183916"></a><a name="p155591716183916"></a>系统不存在free block。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p2055971619395"><a name="p2055971619395"></a><a name="p2055971619395"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p16559171683915"><a name="p16559171683915"></a><a name="p16559171683915"></a>上层可选择重计算或者释放已有的请求。</p>
</td>
</tr>
<tr id="row5342165410393"><td class="cellrowborder" valign="top" width="13.991399139913991%" headers="mcps1.1.6.1.1 "><p id="p1434235419399"><a name="p1434235419399"></a><a name="p1434235419399"></a>1343270931</p>
</td>
<td class="cellrowborder" valign="top" width="20.632063206320634%" headers="mcps1.1.6.1.2 "><p id="p3342754143913"><a name="p3342754143913"></a><a name="p3342754143913"></a>Block is out of memory.</p>
</td>
<td class="cellrowborder" valign="top" width="24.33243324332433%" headers="mcps1.1.6.1.3 "><p id="p1634245418391"><a name="p1634245418391"></a><a name="p1634245418391"></a>预申请Blocks内存不足。</p>
</td>
<td class="cellrowborder" valign="top" width="12.421242124212421%" headers="mcps1.1.6.1.4 "><p id="p5342954173918"><a name="p5342954173918"></a><a name="p5342954173918"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.622862286228624%" headers="mcps1.1.6.1.5 "><p id="p4342125417398"><a name="p4342125417398"></a><a name="p4342125417398"></a>需额外检查数据面mbuf内存总大小配置是否合理。</p>
</td>
</tr>
</tbody>
</table>

